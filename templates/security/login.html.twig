{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}
    <form action="" class="mt-10 space-y-8 dark:text-white" method="post">
        <div>
        <div class="relative before:absolute before:bottom-0 before:h-0.5 before:left-0 before:origin-right focus-within:before:origin-left before:right-0 before:scale-x-0 before:m-auto before:bg-sky-400 dark:before:bg-sky-800 focus-within:before:!scale-x-100 focus-within:invalid:before:bg-red-400 before:transition before:duration-300">
            <input value="{{ last_username }}" name="_username" id="username" autocomplete="email" required autofocus type="email" placeholder="Your email or user name" class="w-full bg-transparent pb-3  border-b border-gray-300 dark:placeholder-gray-300 dark:border-gray-600 outline-none  invalid:border-red-400 transition">
        </div>
        </div>

        <div class="flex flex-col items-end">
        <div class="w-full relative before:absolute before:bottom-0 before:h-0.5 before:left-0 before:origin-right focus-within:before:origin-left before:right-0 before:scale-x-0 before:m-auto before:bg-sky-400 dark:before:bg-sky-800 focus-within:before:!scale-x-100 focus-within:invalid:before:bg-red-400 before:transition before:duration-300">
            <input type="password" name="_password" id="password" autocomplete="current-password" required placeholder="Your answer" class="w-full bg-transparent pb-3  border-b border-gray-300 dark:placeholder-gray-300 dark:border-gray-600 outline-none  invalid:border-red-400 transition">
        </div>
        <button type="reset" class="-mr-3 w-max p-3">
            <span class="text-sm tracking-wide text-sky-600 dark:text-sky-400">Forgot password ?</span>
        </button>
        </div>
        <input type="hidden" name="_csrf_token"
            value="{{ csrf_token('authenticate') }}"
        >
        <div>
        <button
            class="w-full rounded-full bg-sky-500 dark:bg-sky-400 h-11 flex items-center justify-center px-6 py-3 transition hover:bg-sky-600 focus:bg-sky-600 active:bg-sky-800"
        >
            <span class="text-base font-semibold text-white dark:text-gray-900">Login</span>
        </button>
        <button href="#" type="reset" class="-ml-3 w-max p-3">
            <span class="text-sm tracking-wide text-sky-600 dark:text-sky-400">Create new account</span>
        </button>
        </div>
        {% if error %}
            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
        {% endif %}

        {% if app.user %}
            <div class="mb-3">
                You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
            </div>
        {% endif %}
    </form>                                                      
{% endblock %}
